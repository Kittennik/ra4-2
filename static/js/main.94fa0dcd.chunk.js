(this["webpackJsonpra4-2"]=this["webpackJsonpra4-2"]||[]).push([[0],{12:function(e,t,n){e.exports=n(20)},17:function(e,t,n){},18:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(8),l=n.n(c),i=(n(17),n(18),n(10)),u=n(1),o=n(4),d=n(2),m=n(9),s=n(11),f=function e(t,n){Object(m.a)(this,e),this.id=Object(s.a)(),this.date=t,this.distance=n};function v(e){var t=e.msg;return r.a.createElement("div",{className:"validate"},r.a.createElement("p",null,t))}function E(e){var t=e.form,n=e.onSubmit,c=e.onChange,l=Object(a.useState)({date:!1,distance:!1}),i=Object(d.a)(l,2),m=i[0],s=i[1],f=function(e){var t=e.target,n=t.name,a=t.value;s((function(e){return Object(o.a)({},e,Object(u.a)({},n,!1))})),c(n,a)},E=function(e){var t,n=e.target,a=n.name,r=n.value;"date"===a?t=/^(0[1-9]|[12][0-9]|3[01])\.(0[1-9]|1[012])\.\d\d$/:"distance"===a&&(t=/^\d+([.]\d+)?(\u043a\u043c)?$/g),r.match(t)||s((function(e){return Object(o.a)({},e,Object(u.a)({},a,!0))}))};return r.a.createElement("form",{className:"form-add"},r.a.createElement("label",null,"\u0414\u0430\u0442\u0430 (\u0414\u0414.\u041c\u041c.\u0413\u0413)",r.a.createElement("input",{name:"date",value:t.date,onChange:f,onBlur:E}),m.date&&r.a.createElement(v,{msg:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0430\u0442\u0443 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 \u0414\u0414.\u041c\u041c.\u0413\u0413"})),r.a.createElement("label",null,"\u041f\u0440\u043e\u0439\u0434\u0435\u043d\u043e \u043a\u043c",r.a.createElement("input",{name:"distance",value:t.distance,onChange:f,onBlur:E}),m.distance&&r.a.createElement(v,{msg:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0438\u0441\u0442\u0430\u043d\u0446\u0438\u044e (\u0434\u043e\u043f\u0443\u0441\u043a\u0430\u044e\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u0447\u0438\u0441\u043b\u043e\u0432\u044b\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f)"})),r.a.createElement("input",{type:"button",value:"OK",onClick:function(e){e.preventDefault(),t.date&&t.distance&&(m.date||m.distance||n())}}))}var b=n(5),O=n.n(b);function h(e){var t=e.item,n=t.date,a=t.distance;return r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",null,O()(n).format("DD.MM.YY")),r.a.createElement("td",null,a.toFixed(1)),r.a.createElement("td",{className:"change",title:"Change",onClick:e.onEdit},"Edit"),r.a.createElement("td",{className:"delete",title:"Delete",onClick:e.onRemove},"X"))))}function g(e){var t=e.trainings,n=t.sort((function(e,t){return Date.parse(e.date)<Date.parse(t.date)?1:-1}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",null,"\u0414\u0430\u0442\u0430 (\u0414\u0414.\u041c\u041c.\u0413\u0413)"),r.a.createElement("td",null,"\u041f\u0440\u043e\u0439\u0434\u0435\u043d\u043e \u043a\u043c"),r.a.createElement("td",null,"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"))),r.a.createElement("tbody",null,n.map((function(t){return r.a.createElement(h,{item:t,onEdit:function(){return n=t.id,e.onEdit(n);var n},onRemove:function(){return n=t.id,e.onRemove(n);var n},key:t.id})})))))}function j(e){var t=Object(a.useState)([]),n=Object(d.a)(t,2),c=n[0],l=n[1],m=Object(a.useState)(),s=Object(d.a)(m,2),v=s[0],b=s[1],h=Object(a.useState)({date:"",distance:""}),j=Object(d.a)(h,2),p=j[0],w=j[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,{form:p,onChange:function(e,t){w((function(n){return Object(o.a)({},n,Object(u.a)({},e,t))}))},onSubmit:function(){var e=p.distance,t=O()(p.date,"DD.MM.YY",!0);if(t.isValid()){var n=t.toDate();if(v){var a=c.find((function(e){return e.id===v})).date;l((function(t){return t.map((function(t){return t.date.valueOf()===a.valueOf()?new f(n,Number(e)):t}))}))}else c.find((function(e){return e.date.valueOf()===n.valueOf()}))?l((function(t){return t.map((function(t){return t.date.valueOf()===n.valueOf()?new f(n,Number(e)+t.distance):t}))})):l((function(t){return[].concat(Object(i.a)(t),[new f(n,Number(e))])}));w({date:"",distance:""}),b(null)}}}),r.a.createElement(g,{trainings:c,onRemove:function(e){l((function(t){return t.filter((function(t){return t.id!==e}))}))},onEdit:function(e){var t=c.find((function(t){return t.id===e}));b(t.id),w({date:O()(t.date).format("DD.MM.YY"),distance:t.distance})}}))}var p=function(){return r.a.createElement("div",{className:"container"},r.a.createElement(j,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(p,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[12,1,2]]]);
//# sourceMappingURL=main.94fa0dcd.chunk.js.map